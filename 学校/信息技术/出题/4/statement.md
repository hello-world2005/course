# 区间冒泡排序

## 题目描述

kk 刚刚学习了冒泡排序，但苦于数冒泡排序时的交换次数，所以想让聪明的你帮帮他。

kk 现在有一个序列 $a$，每次要对 $l$ 到 $r$ 范围内进行升序冒泡排序（包含 $l$、$r$），他想知道在冒泡排序的过程中要交换多少次。每次询问不改变原序列。

kk 不想等太久，所以他要你的程序**强制在线**（不懂没有关系，仔细阅读输入）。

## 输入

第一行 $2$ 的数 $n \ q$，表示序列 $a$ 的长度为 $n$，kk 有 $q$ 个问题。

接下来一行 $n$ 个正整数表示 $a$ 中的元素。

接下来 $q$ 行每行两个整数 $l$、$r$ 表示 kk 希望你回答 $ll$ 到 $rr$ 范围内进行冒泡排序的交换次数。其中，记上一次询问的答案为 $last\_ans$，则 $ll = ((l \oplus last\_ans - 1) \mod n) + 1$，$rr = ((r \oplus last\_ans - 1) \mod n) + 1$。若 $ll > rr$，则交换 $ll$、$rr$。第一次询问时 $last\_ans = 0$

或者用 Python 代码表示
```python
l, r = map(int, input().split())
ll = (l ^ last_ans - 1) % n + 1
rr = (r ^ last_ans - 1) % n + 1
if (ll > rr): ll, rr = rr, ll
```

## 输出

对于每次询问输出一行一个数，表示此次询问的答案。

## 数据范围

|数据点|满足条件|
|:--:|:--:|
1, 2|$n \le 100, q \le 100, a_i \le 10^9$
3|$n \le 1000, q \le 100, a_i \le 1000$
4, 5|$n \le 1000, q \le 100, a_i \le 10^9$
E1, E2|$n \le 4 \times 10^4, q \le 10^4, a_i \le 10^9$

~~因为 kk 做的题目很恶心，所以能够保证 $O(qn\log n)$ 的做法过不去（我才不会说数据是随机的呢）。~~

~~但说不定被小常数的卡过去了呢~~

这题原本的数据范围被 Devinw 毙了，所以大数据被加入 Extra 数据组，未通过此数据不影响最终得分。


