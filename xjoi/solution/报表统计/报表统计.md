# 报表统计

题中要求的需要查询的值为**所有数的差的最小值**和**相邻元素的差的最小值**，那么就考虑如何维护这两项。

维护两个 ``set``，分别为 s1、s2，s1 存储的是所有数，s2 存储的是相邻数差。

因为每次是插在指原有的数的后面，记第 $i$ 个数以及插在第 $i$ 个数以后的所有数为数 $i$ “统治”的范围，那么在插入时只需要修改所在 $i$ 统治范围的右端点和 $i + 1$ 统治范围的左端点（因为插在了这两项中间）。

在进行 Insert x 操作时

- 在 s1 中找到与 x 大小相邻的两个数，以其差更新所有数差的最小值 min；
- 在 s2 中找到当前所在的统治区间 $i$，与 $r_i$ 和 $l_{i + 1}$ 作差，删去原本的 $|r_i - l_{i + 1}|$，插入新差。

查询所有数的差的最小值时输出 min，相邻数最小值输出 s2 的最小值。